"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[488],{9760:function(n,t,e){e(2791);var r=e(184);t.Z=function(n){n.error;return(0,r.jsx)("div",{children:"'Sorry, something went wrong :('"})}},3174:function(n,t,e){e.d(t,{Z:function(){return w}});e(2791);var r,i,a,o,u,c,s=e(7689),d=e(1087),l=e(3301),f=e(168),p=e(7924),v=p.ZP.ul(r||(r=(0,f.Z)(["\n  display: grid;\n  max-width: calc(100vw - 100px);\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n  grid-gap: 24px;\n  margin-top: 0;\n  margin-bottom: 0;\n  padding: 0;\n  list-style: none;\n  margin-left: auto;\n  margin-right: auto;\n"]))),m=p.ZP.li(i||(i=(0,f.Z)(["\n  border-radius: 10px;\n  &:hover,\n  &:focus {\n    cursor: pointer;\n  }\n"]))),h=p.ZP.div(a||(a=(0,f.Z)(["\n  border-radius: 10px;\n  justify-content: center;\n  align-items: center;\n  > img {\n    object-fit: cover;\n  }\n"]))),g=p.ZP.div(o||(o=(0,f.Z)(["\n  font-size: 18px;\n  padding: 10px;\n  overflow: hidden;\n"]))),x=p.ZP.h2(u||(u=(0,f.Z)(["\n  font-size: 18px;\n  padding-top: 10px 10px;\n  overflow: hidden;\n  margin-bottom: 10px;\n"]))),Z=p.ZP.img(c||(c=(0,f.Z)(["\n  width: 100%;\n  height: 100%;\n  height: auto;\n  object-fit: cover;\n"]))),y=e(184);var w=function(n){var t=n.movies,e=(0,s.TH)();return(0,y.jsx)(v,{children:t.map((function(n){var t=n.id,r=n.title,i=n.name,a=n.poster_path,o=n.original_title,u=n.vote_average,c=n.release_date;return(0,y.jsx)(d.rU,{to:"/movies/".concat(t),state:{from:e},children:(0,y.jsxs)(m,{children:[(0,y.jsx)(h,{children:(0,y.jsx)(Z,{src:a?"https://image.tmdb.org/t/p/w500"+a:l,alt:r||i})}),(0,y.jsxs)(g,{children:[(0,y.jsxs)(x,{children:[o||r||i,c?" (".concat(c.slice(0,4),")"):""]}),(0,y.jsxs)("p",{children:["Raiting:"," ",u?"".concat(Math.round(10*u),"%"):"-"]})]})]})},t)}))})}},6488:function(n,t,e){e.r(t),e.d(t,{default:function(){return K}});var r,i,a,o,u=e(9439),c=e(2791),s=e(273),d=e(9760),l=e(3174),f=e(168),p=e(7924),v=p.ZP.form(r||(r=(0,f.Z)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  border-radius: 3px;\n  border: 1px solid #8c4faf;\n  overflow: hidden;\n"]))),m=p.ZP.label(i||(i=(0,f.Z)(["\n  width: 100%;\n  height: 100%;\n"]))),h=p.ZP.input(a||(a=(0,f.Z)(["\n  display: inline-block;\n  width: 100%;\n  height: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n  ::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n"]))),g=p.ZP.button(o||(o=(0,f.Z)(["\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity var(--animation-duration) var(--timing-function);\n  cursor: pointer;\n  outline: none;\n  :hover {\n    opacity: 1;\n  }\n"]))),x=e(3795);var Z=e(8683),y=e(3433),w=function(n){return"number"==typeof n&&!isNaN(n)},b=function(n){return"string"==typeof n},k=function(n){return"function"==typeof n},j=function(n){return(0,c.isValidElement)(n)||b(n)||k(n)||w(n)};function E(n){var t=n.enter,e=n.exit,r=n.appendPosition,i=void 0!==r&&r,a=n.collapse,o=void 0===a||a,u=n.collapseDuration,s=void 0===u?300:u;return function(n){var r=n.children,a=n.position,u=n.preventExitTransition,d=n.done,l=n.nodeRef,f=n.isIn,p=n.playToast,v=i?"".concat(t,"--").concat(a):t,m=i?"".concat(e,"--").concat(a):e,h=(0,c.useRef)(0);return(0,c.useLayoutEffect)((function(){var n,t=l.current,e=v.split(" "),r=function n(r){var i;r.target===l.current&&(p(),t.removeEventListener("animationend",n),t.removeEventListener("animationcancel",n),0===h.current&&"animationcancel"!==r.type&&(i=t.classList).remove.apply(i,(0,y.Z)(e)))};(n=t.classList).add.apply(n,(0,y.Z)(e)),t.addEventListener("animationend",r),t.addEventListener("animationcancel",r)}),[]),(0,c.useEffect)((function(){var n=l.current,t=function t(){n.removeEventListener("animationend",t),o?function(n,t,e){void 0===e&&(e=300);var r=n.scrollHeight,i=n.style;requestAnimationFrame((function(){i.minHeight="initial",i.height=r+"px",i.transition="all ".concat(e,"ms"),requestAnimationFrame((function(){i.height="0",i.padding="0",i.margin="0",setTimeout(t,e)}))}))}(n,d,s):d()};f||(u?t():(h.current=1,n.className+=" ".concat(m),n.addEventListener("animationend",t)))}),[f]),c.createElement(c.Fragment,null,r)}}var I=new Map,T=[],_=new Set,P=function(){return I.size>0};function L(n,t){var e;if(t)return!(null==(e=I.get(t))||!e.isToastActive(n));var r=!1;return I.forEach((function(t){t.isToastActive(n)&&(r=!0)})),r}function S(n,t){j(n)&&(P()||T.push({content:n,options:t}),I.forEach((function(e){e.buildToast(n,t)})))}function C(n,t){I.forEach((function(e){null!=t&&null!=t&&t.containerId?(null==t?void 0:t.containerId)===e.id&&e.toggle(n,null==t?void 0:t.id):e.toggle(n,null==t?void 0:t.id)}))}var q=1,z=function(){return""+q++};function A(n){return n&&(b(n.toastId)||w(n.toastId))?n.toastId:z()}function F(n,t){return S(n,t),t.toastId}function R(n,t){return(0,Z.Z)((0,Z.Z)({},t),{},{type:t&&t.type||n,toastId:A(t)})}function D(n){return function(t,e){return F(t,R(n,e))}}function H(n,t){return F(n,R("default",t))}H.loading=function(n,t){return F(n,R("default",(0,Z.Z)({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},H.promise=function(n,t,e){var r,i=t.pending,a=t.error,o=t.success;i&&(r=b(i)?H.loading(i,e):H.loading(i.render,(0,Z.Z)((0,Z.Z)({},e),i)));var u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=function(n,t,i){if(null!=t){var a=(0,Z.Z)((0,Z.Z)((0,Z.Z)({type:n},u),e),{},{data:i}),o=b(t)?{render:t}:t;return r?H.update(r,(0,Z.Z)((0,Z.Z)({},a),o)):H(o.render,(0,Z.Z)((0,Z.Z)({},a),o)),i}H.dismiss(r)},s=k(n)?n():n;return s.then((function(n){return c("success",o,n)})).catch((function(n){return c("error",a,n)})),s},H.success=D("success"),H.info=D("info"),H.error=D("error"),H.warning=D("warning"),H.warn=H.warning,H.dark=function(n,t){return F(n,R("default",(0,Z.Z)({theme:"dark"},t)))},H.dismiss=function(n){!function(n){var t;if(P()){if(null==n||b(t=n)||w(t))I.forEach((function(t){t.removeToast(n)}));else if(n&&("containerId"in n||"id"in n)){var e;(null==(e=I.get(n.containerId))?void 0:e.removeToast(n.id))||I.forEach((function(t){t.removeToast(n.id)}))}}else T=T.filter((function(t){return null!=n&&t.options.toastId!==n}))}(n)},H.clearWaitingQueue=function(n){void 0===n&&(n={}),I.forEach((function(t){!t.props.limit||n.containerId&&t.id!==n.containerId||t.clearQueue()}))},H.isActive=L,H.update=function(n,t){void 0===t&&(t={});var e=function(n,t){var e,r=t.containerId;return null==(e=I.get(r||1))?void 0:e.toasts.get(n)}(n,t);if(e){var r=e.props,i=e.content,a=(0,Z.Z)((0,Z.Z)((0,Z.Z)({delay:100},r),t),{},{toastId:t.toastId||n,updateId:z()});a.toastId!==n&&(a.staleId=n);var o=a.render||i;delete a.render,F(o,a)}},H.done=function(n){H.update(n,{progress:1})},H.onChange=function(n){return _.add(n),function(){_.delete(n)}},H.play=function(n){return C(!0,n)},H.pause=function(n){return C(!1,n)};"undefined"!=typeof window?c.useLayoutEffect:c.useEffect;var N=function(n,t){return void 0===t&&(t=!1),{enter:"Toastify--animate Toastify__".concat(n,"-enter"),exit:"Toastify--animate Toastify__".concat(n,"-exit"),appendPosition:t}};E(N("bounce",!0)),E(N("slide",!0)),E(N("zoom")),E(N("flip"));var U=e(1598),B=e(184),M=function(n){var t=n.onSubmit,e=(0,c.useState)(""),r=(0,u.Z)(e,2),i=r[0],a=r[1],o=(0,c.useRef)("");return(0,B.jsx)(U.W2,{children:(0,B.jsxs)(v,{onSubmit:function(n){return n.preventDefault(),""===i.trim()?H.error("\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u0430\u0437\u0432\u0443 \u0444\u0456\u043b\u044c\u043c\u0443"):i?(o.current!==i&&t(i),void(o.current=i)):H.error("Sorry, there are no films matching your search query. Please try again.")},children:[(0,B.jsx)(g,{type:"submit",children:(0,B.jsx)(x.wTD,{size:"24"})}),(0,B.jsx)(m,{children:(0,B.jsx)(h,{autoComplete:"off",name:"query",type:"text",autoFocus:!0,placeholder:"Search movie",onChange:function(n){a(n.currentTarget.value.toLowerCase())},value:i})})]})})},O=e(9245),Q=e(1087),W="idle",V="loading",G="resolve",J="error",K=function(){var n,t=(0,Q.lr)(),e=(0,u.Z)(t,2),r=e[0],i=e[1],a=null!==(n=r.get("query"))&&void 0!==n?n:"",o=(0,c.useState)([]),f=(0,u.Z)(o,2),p=f[0],v=f[1],m=(0,c.useState)(W),h=(0,u.Z)(m,2),g=h[0],x=h[1],Z=(0,c.useState)(null),y=(0,u.Z)(Z,2),w=y[0],b=y[1];(0,c.useEffect)((function(){a&&(x(V),(0,s.q)(a).then((function(n){v(n),x(G)})).catch((function(n){v([]),b(n),x(J)})))}),[a]);return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(M,{onSubmit:function(n){i(""!==n?{query:n}:{})}}),"loading"===g&&(0,B.jsx)(O.a,{}),g===G&&(0,B.jsx)(l.Z,{movies:p}),g===J&&(0,B.jsx)(d.Z,{error:w})]})}},273:function(n,t,e){e.d(t,{Df:function(){return c},TP:function(){return d},jP:function(){return h},q:function(){return f},zv:function(){return v}});var r=e(5861),i=e(4687),a=e.n(i),o=e(5294);o.Z.defaults.baseURL="https://api.themoviedb.org/3/";var u="a56a1677bac2a6664dd2ad898620a49c";function c(){return s.apply(this,arguments)}function s(){return(s=(0,r.Z)(a().mark((function n(){var t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("trending/all/day",{params:{api_key:u}});case 2:return t=n.sent,n.abrupt("return",t.data.results);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function d(n){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(a().mark((function n(t){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("movie/".concat(t),{params:{api_key:u}});case 2:return e=n.sent,n.abrupt("return",e.data);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function f(n){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(a().mark((function n(t){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("search/movie",{params:{api_key:u,query:t}});case 2:return e=n.sent,n.abrupt("return",e.data.results);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function v(n){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(a().mark((function n(t){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("movie/".concat(t,"/credits"),{params:{api_key:u,language:"en-US"}});case 2:return e=n.sent,n.abrupt("return",e.data);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function h(n){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)(a().mark((function n(t){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("movie/".concat(t,"/reviews"),{params:{api_key:u}});case 2:return e=n.sent,n.abrupt("return",e.data);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},3301:function(n,t,e){n.exports=e.p+"static/media/default-image.817773d85d8896811e22.png"}}]);
//# sourceMappingURL=488.6b3d1fc2.chunk.js.map